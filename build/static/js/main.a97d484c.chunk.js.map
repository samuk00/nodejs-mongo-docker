{"version":3,"sources":["services/auth.js","components/Navbar.js","services/login.js","components/Login.js","services/register.js","components/Register.js","components/Start.js","components/Info.js","components/BudgetInput.js","components/ExpenseInput.js","services/expenses.js","components/Home.js","components/Expenses.js","ProtectedRoute.js","App.js","index.js"],"names":["auth","userLogout","window","localStorage","removeItem","userLogin","credentials","setItem","Navbar","history","useHistory","navMode","getItem","display","className","style","to","onClick","push","go","loginRequest","login","a","axios","post","response","data","Login","useState","username","setUsername","password","setPassword","notification","setNotification","useEffect","handleLogin","event","preventDefault","loggedUser","JSON","stringify","setTimeout","onSubmit","onChange","target","value","type","registerRequest","register","Register","handleRegister","Start","margin","width","Info","budget","sum","comparison","BudgetInput","setBudget","ExpenseInput","euros","desc","setEuros","setDesc","addExpense","baseURL","token","expenseRequests","setToken","userToken","getExpenses","id","get","postExpense","newExpense","config","headers","Authorization","console","log","deleteExpense","delete","Home","expenses","setUser","reduce","acc","val","parseInt","loggedUserJSON","parse","Expenses","removeExpense","map","exp","ProtectedRoute","Component","component","rest","render","props","pathname","App","setExpenses","user","userJSON","then","catch","err","exact","path","concat","updated","filter","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a97d484c.chunk.js","sourcesContent":["const userLogout = () => {\r\n    window.localStorage.removeItem('loggedUser')\r\n}\r\n\r\nconst userLogin = (credentials) => {\r\n    window.localStorage.setItem(\"loggedUser\", credentials)\r\n}\r\n\r\nconst auth = {\r\n    userLogout,\r\n    userLogin\r\n}\r\n\r\nexport default auth","import React from 'react'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport auth from '../services/auth'\r\n\r\nconst Navbar = () => {\r\n\r\n    const history = useHistory()\r\n\r\n    const handleClick = () => {\r\n        auth.userLogout()\r\n        history.push('/')\r\n        history.go('/')\r\n    }\r\n\r\n    const navMode = window.localStorage.getItem('loggedUser') === null ? { display: 'none' } : { display: 'block' }\r\n\r\n    return (\r\n        <div className=\"nav\">\r\n            <h2>EXPENSE TRACKER</h2>\r\n            <ul style={navMode}>\r\n                <li><Link to=\"/home\">Home</Link></li>\r\n                <li><Link to=\"/expenses\">View expenses</Link></li>\r\n                <li><button onClick={handleClick}>Logout</button></li>\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\nexport default Navbar\r\n","import axios from 'axios'\r\n\r\nconst baseURL = '/api/login'\r\n\r\nconst login = async (credentials) => {\r\n    const response = await axios.post(baseURL, credentials)\r\n    return response.data\r\n}\r\n\r\nconst loginRequest = {\r\n    login\r\n}\r\n\r\nexport default loginRequest","import React, { useState, useEffect } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport auth from '../services/auth'\r\nimport loginRequest from '../services/login'\r\n\r\n\r\nconst Login = () => {\r\n    const [username, setUsername] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const [notification, setNotification] = useState('')\r\n\r\n    const history = useHistory()\r\n\r\n    useEffect(() => {\r\n        if(window.localStorage.getItem('loggedUser')){\r\n            history.push('/home')\r\n        }\r\n    })\r\n\r\n    const handleLogin = async (event) => {\r\n        event.preventDefault()\r\n        try {\r\n            const loggedUser = await loginRequest.login({ username, password })\r\n            auth.userLogin(JSON.stringify(loggedUser))\r\n            setUsername('')\r\n            setPassword('')\r\n            history.push('/home')\r\n            history.go('/home')\r\n        } catch (except) {\r\n            setNotification('Invalid username or password')\r\n            setTimeout(() => {\r\n                setNotification(null)\r\n            }, 3000);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"login-form\">\r\n            <h1>Login</h1>\r\n            <form onSubmit={handleLogin}>\r\n                <h2>Username</h2>\r\n                <input\r\n                    onChange={({ target }) => setUsername(target.value)}\r\n                    value={username}\r\n                />\r\n                <h2>Password</h2>\r\n                <input\r\n                    onChange={({ target }) => setPassword(target.value)}\r\n                    value={password}\r\n                    type=\"password\"\r\n                />\r\n                <button type=\"submit\">Sign in</button>\r\n                <div>{notification}</div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login\r\n\r\n","import axios from 'axios'\r\n\r\nconst baseURL = '/api/users'\r\n\r\nconst register = async (credentials) => {\r\n    const response = await axios.post(baseURL, credentials)\r\n    return response.data\r\n}\r\n\r\nconst registerRequest = {\r\n    register\r\n}\r\n\r\nexport default registerRequest","import React, { useState } from 'react'\r\nimport registerRequest from '../services/register'\r\n\r\nconst Register = () => {\r\n    const [username, setUsername] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const [notification, setNotification] = useState('')\r\n\r\n    const handleRegister = async (event) => {\r\n        event.preventDefault()\r\n        try {\r\n            await registerRequest.register({ username, password })\r\n            setUsername('')\r\n            setPassword('')\r\n            setNotification('Account successfully created')\r\n        } catch (except) {\r\n            setNotification('Username must be atleast 4 characters and password 6 characters')\r\n            setTimeout(() => {\r\n                setNotification(null)\r\n            }, 3000);\r\n        }\r\n    }\r\n    return (\r\n        <div className=\"login-form\">\r\n            <h1>Register</h1>\r\n            <form onSubmit={handleRegister}>\r\n                <h2>Username</h2>\r\n                <input\r\n                    value={username}\r\n                    onChange={({ target }) => setUsername(target.value)}\r\n                />\r\n                <h2>Password</h2>\r\n                <input\r\n                    onChange={({ target }) => setPassword(target.value)}\r\n                    value={password}\r\n                    type=\"password\"\r\n                />\r\n                <button type=\"submit\">Sign in</button>\r\n                <div>{notification}</div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Register\r\n","import React from 'react'\r\nimport Login from './Login'\r\nimport Register from './Register'\r\n\r\nconst Start = () => {\r\n    return (\r\n        <div style={{ display: 'flex', margin: 'auto', width: '70%' }}>\r\n            <Login />\r\n            <Register />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Start\r\n","import React from 'react'\r\n\r\nconst Info = ({budget, sum, comparison}) => {\r\n    return (\r\n        <div className=\"col\">\r\n            <h2>Welcome to use spending tracker</h2>\r\n            <h3>Your budget: {budget}</h3>\r\n            <h3>Sum of expenses: {sum}</h3>\r\n            <h3>Comparsion with the budget: {comparison}</h3>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Info","import React from 'react'\r\n\r\nconst BudgetInput = ({ budget, setBudget }) => {\r\n    return (\r\n        <div className=\"col\">\r\n            <h2>Set your budget</h2>\r\n            <form>\r\n                <input\r\n                    value={budget}\r\n                    onChange={({target}) => setBudget(target.value)}\r\n                    type=\"number\"\r\n                />\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default BudgetInput\r\n","import React from 'react'\r\n\r\nconst ExpenseInput = ({ euros, desc, setEuros, setDesc, addExpense }) => {\r\n\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault()\r\n        addExpense({ euros, desc })\r\n    }\r\n\r\n    return (\r\n        <div className=\"col\">\r\n            <h2>Add a new expense</h2>\r\n            <form onSubmit={handleSubmit}>\r\n                <h3>Euros</h3>\r\n                <input\r\n                    value={euros}\r\n                    onChange={({ target }) => setEuros(target.value)}\r\n                    type=\"number\"\r\n                />\r\n                <h3>Description</h3>\r\n                <input\r\n                    value={desc}\r\n                    onChange={({ target }) => setDesc(target.value)}\r\n                />\r\n                <button type=\"submit\">OK</button>\r\n            </form>\r\n        </div>\r\n\r\n\r\n    )\r\n}\r\n\r\nexport default ExpenseInput\r\n","import axios from 'axios'\r\nconst baseURL = '/api/expenses'\r\n\r\nlet token = null\r\n\r\nconst setToken = (userToken) => {\r\n    token = `bearer ${userToken}`\r\n}\r\n\r\nconst getExpenses = async (id) => {\r\n    const response = await axios.get(`${baseURL}/${id}`)\r\n    return response.data\r\n}\r\n\r\nconst postExpense = async (newExpense) => {\r\n\r\n    const config = {\r\n        headers: { Authorization: token }\r\n    }\r\n    const response = await axios.post(baseURL, newExpense, config)\r\n    console.log(response.data)\r\n    return response.data\r\n\r\n}\r\n\r\nconst deleteExpense = async (id) => {\r\n    await axios.delete(`${baseURL}/${id}`)\r\n}\r\n\r\nconst expenseRequests = {\r\n    setToken,\r\n    getExpenses,\r\n    postExpense,\r\n    deleteExpense\r\n}\r\n\r\nexport default expenseRequests","import React, { useState, useEffect } from 'react'\r\nimport Info from './Info'\r\nimport BudgetInput from './BudgetInput'\r\nimport ExpenseInput from './ExpenseInput'\r\nimport expenseRequests from '../services/expenses'\r\n\r\nconst Home = ({ expenses, addExpense }) => {\r\n    const [budget, setBudget] = useState('')\r\n    const [euros, setEuros] = useState('')\r\n    const [desc, setDesc] = useState('')\r\n    const [user, setUser] = useState({})\r\n\r\n    const sum = expenses.reduce((acc, val) => acc + parseInt(val.euros), 0)\r\n    const comparison = budget - sum\r\n\r\n    useEffect(() => {\r\n        const loggedUserJSON = window.localStorage.getItem('loggedUser')\r\n        if (loggedUserJSON) {\r\n            const loggedUser = JSON.parse(loggedUserJSON)\r\n            setUser(loggedUser)\r\n            expenseRequests.setToken(loggedUser.token)\r\n        }\r\n    }, [setUser])\r\n\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <div className=\"row-1\">\r\n                <Info budget={budget} sum={sum} comparison={comparison} />\r\n                <BudgetInput budget={budget} setBudget={setBudget} />\r\n            </div>\r\n            <div className=\"row-2\">\r\n                <ExpenseInput euros={euros} desc={desc} setEuros={setEuros} setDesc={setDesc} addExpense={addExpense} />\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default Home\r\n","import React from 'react'\r\n\r\nconst Expenses = ({ expenses, removeExpense }) => {\r\n    \r\n    return (\r\n        <div className=\"container\">\r\n            <table>\r\n                <tbody>\r\n                    <tr>\r\n                        <th>Euros</th>\r\n                        <th>Description</th>\r\n                        <th>Remove</th>\r\n                    </tr>\r\n                    {expenses.map(exp => {\r\n                        return (\r\n                            <tr key={exp.id}>\r\n                                <td>{exp.euros}</td>\r\n                                <td>{exp.desc}</td>\r\n                                <td><button onClick={() => removeExpense(exp.id)}>Remove</button></td>\r\n                            </tr>\r\n                        )\r\n                    })}\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Expenses\r\n","import React from 'react'\r\nimport { Redirect, Route } from 'react-router-dom'\r\n\r\nconst ProtectedRoute = ({ component: Component, expenses, addExpense, removeExpense, ...rest }) => {\r\n    const auth = window.localStorage.getItem(\"loggedUser\")\r\n    return (\r\n        <Route\r\n            {...rest}\r\n            render={props => {\r\n                if (auth) {\r\n                    return <Component {...props} expenses={expenses} addExpense={addExpense} removeExpense={removeExpense} />\r\n                }\r\n                else {\r\n                    return <Redirect to={\r\n                        {\r\n                            pathname: \"/\"\r\n                        }\r\n                    } />\r\n                }\r\n            }}\r\n        />\r\n    )\r\n}\r\n\r\nexport default ProtectedRoute","import React, { useState, useEffect } from 'react'\nimport { HashRouter as Router, Route, Switch } from 'react-router-dom';\nimport Navbar from './components/Navbar'\nimport Start from './components/Start'\nimport Home from './components/Home';\nimport Expenses from './components/Expenses'\nimport ProtectedRoute from './ProtectedRoute';\nimport expenseRequests from './services/expenses';\n\nconst App = () => {\n\n  const [expenses, setExpenses] = useState([])\n\n  useEffect(() => {\n    const user = window.localStorage.getItem('loggedUser')\n    const userJSON = JSON.parse(user)\n    if (userJSON) {\n      expenseRequests.getExpenses(userJSON.id)\n        .then(data => {\n          setExpenses(data)\n        })\n        .catch(err => {\n          console.log('unable to fetch data')\n        })\n    }\n  }, [setExpenses])\n\n  const addExpense = (newExpense) => {\n    expenseRequests.postExpense(newExpense)\n      .then(data => {\n        setExpenses(expenses.concat(data))\n      })\n      .catch(err => {\n        console.log('error in post request')\n      })\n  }\n\n  const removeExpense = (id) => {\n    expenseRequests.deleteExpense(id)\n      .then(() => {\n        const updated = expenses.filter(exp => exp.id !== id)\n        setExpenses(updated)\n      })\n  }\n\n\n\n  return (\n    <div>\n      <Router>\n        <Navbar />\n        <Switch>\n          <Route exact path=\"/\">\n            <Start />\n          </Route>\n          <ProtectedRoute exact path=\"/home\" component={Home} expenses={expenses} addExpense={addExpense} />\n          <ProtectedRoute exact path=\"/expenses\" component={Expenses} expenses={expenses} removeExpense={removeExpense} />\n        </Switch>\n      </Router>\n    </div>\n  )\n}\n\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}